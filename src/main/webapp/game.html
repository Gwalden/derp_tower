<!DOCTYPE html>
<html lang="fr">
<head>
<title>Jersey Skeleton</title>
<meta charset='utf-8'>
<!-- jQuery -->
<script src="//code.jquery.com/jquery-1.11.2.min.js"></script>
<script src="//code.jquery.com/jquery-migrate-1.2.1.min.js"></script>

<!-- bootstrap -->
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

<!-- Code local -->
<script src="all.js"></script>
</head>
<body>
	<center>
		<button type="submit" id="newturn">GO!!</button>
		<div>
			<canvas id="myCanvas" height="400" width="400"></canvas>
		</div>
	</center>
</body>
<script>
	var canvas = document.getElementById("myCanvas");
	var ctx = canvas.getContext("2d");
	ctx.fillStyle = "#FF0000";
	ctx.fillRect(0, 0, canvas.height, canvas.width);

	$("#newturn").click(function(event) {
		$("#newturn").prop("disabled", true);
		$.ajax({
			url : "/v1/game",
			type : "PUT",
			dataType : "json",
			success : function(json) {
				console.log(json);
				ctx.fillStyle = "#FF0000";
				ctx.fillRect(0, 0, canvas.height, canvas.width);
				for ( var k in json) {
					ctx.fillStyle = "black";
					ctx.fillRect(json[k].x, json[k].y, 40, 40);
				}
				$("#newturn").prop("disabled", false);
			}
		})
	});
</script>

</html>